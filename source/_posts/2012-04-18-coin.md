---
layout: post
date: '2012-04-18'
title: Coin
comments: true
categories: ''
---

<p>
  <div style="color: #000000; font-family: Arial, Helvetica, sans-serif; font-size: 13px; background-color: #ffffff; margin: 8px;">
  <p><iframe src="http://player.vimeo.com/video/40435006?portrait=0" frameborder="0" height="283" width="500"></iframe></p>
  <p>A video of the "Hello, World"&nbsp;demo from the engine I've pretty much abandoned.&nbsp;The code for this scene using the engine's API is pretty terse:</p>
  <p><div class="data">
      <table class="lines highlight" cellspacing="0" cellpadding="0">
        <tr>
          <td class="line_numbers">
            <span rel="file-main-c-L1" id="file-main-c-L1">1</span>
            <span rel="file-main-c-L2" id="file-main-c-L2">2</span>
            <span rel="file-main-c-L3" id="file-main-c-L3">3</span>
            <span rel="file-main-c-L4" id="file-main-c-L4">4</span>
            <span rel="file-main-c-L5" id="file-main-c-L5">5</span>
            <span rel="file-main-c-L6" id="file-main-c-L6">6</span>
            <span rel="file-main-c-L7" id="file-main-c-L7">7</span>
            <span rel="file-main-c-L8" id="file-main-c-L8">8</span>
            <span rel="file-main-c-L9" id="file-main-c-L9">9</span>
            <span rel="file-main-c-L10" id="file-main-c-L10">10</span>
            <span rel="file-main-c-L11" id="file-main-c-L11">11</span>
            <span rel="file-main-c-L12" id="file-main-c-L12">12</span>
            <span rel="file-main-c-L13" id="file-main-c-L13">13</span>
            <span rel="file-main-c-L14" id="file-main-c-L14">14</span>
            <span rel="file-main-c-L15" id="file-main-c-L15">15</span>
            <span rel="file-main-c-L16" id="file-main-c-L16">16</span>
            <span rel="file-main-c-L17" id="file-main-c-L17">17</span>
            <span rel="file-main-c-L18" id="file-main-c-L18">18</span>
            <span rel="file-main-c-L19" id="file-main-c-L19">19</span>
            <span rel="file-main-c-L20" id="file-main-c-L20">20</span>
            <span rel="file-main-c-L21" id="file-main-c-L21">21</span>
            <span rel="file-main-c-L22" id="file-main-c-L22">22</span>
            <span rel="file-main-c-L23" id="file-main-c-L23">23</span>
            <span rel="file-main-c-L24" id="file-main-c-L24">24</span>
            <span rel="file-main-c-L25" id="file-main-c-L25">25</span>
            <span rel="file-main-c-L26" id="file-main-c-L26">26</span>
            <span rel="file-main-c-L27" id="file-main-c-L27">27</span>
            <span rel="file-main-c-L28" id="file-main-c-L28">28</span>
            <span rel="file-main-c-L29" id="file-main-c-L29">29</span>
            <span rel="file-main-c-L30" id="file-main-c-L30">30</span>
            <span rel="file-main-c-L31" id="file-main-c-L31">31</span>
            <span rel="file-main-c-L32" id="file-main-c-L32">32</span>
            <span rel="file-main-c-L33" id="file-main-c-L33">33</span>
            <span rel="file-main-c-L34" id="file-main-c-L34">34</span>
            <span rel="file-main-c-L35" id="file-main-c-L35">35</span>
            <span rel="file-main-c-L36" id="file-main-c-L36">36</span>
            <span rel="file-main-c-L37" id="file-main-c-L37">37</span>
            <span rel="file-main-c-L38" id="file-main-c-L38">38</span>
            <span rel="file-main-c-L39" id="file-main-c-L39">39</span>
            <span rel="file-main-c-L40" id="file-main-c-L40">40</span>
            <span rel="file-main-c-L41" id="file-main-c-L41">41</span>
            <span rel="file-main-c-L42" id="file-main-c-L42">42</span>
            <span rel="file-main-c-L43" id="file-main-c-L43">43</span>
            <span rel="file-main-c-L44" id="file-main-c-L44">44</span>
            <span rel="file-main-c-L45" id="file-main-c-L45">45</span>
            <span rel="file-main-c-L46" id="file-main-c-L46">46</span>
            <span rel="file-main-c-L47" id="file-main-c-L47">47</span>
          </td>
          <td class="line_data" width="100%">
            <pre /><div class="line" id="file-main-c-LC1"><span class="c1">//</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC2"><span class="c1">//  main.c</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC3"><span class="c1">//  Demo</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC4"><span class="c1">//</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC5"><span class="c1">//  Created by Jason Perry on 2/8/12.</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC6"><span class="c1">//  Copyright (c) 2012 Jason L Perry. All rights reserved.</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC7"><span class="c1">//</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC8">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC9"><span class="cp">#include &quot;aposelene.h&quot;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC10">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC11"><span class="c1">// Resources</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC12"><span class="cp">#include &quot;coin_texture.h&quot;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC13"><span class="cp">#include &quot;system_font.h&quot;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC14">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC15"><span class="cp">#define SCREEN_WIDTH 120</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC16"><span class="cp">#define SCREEN_HEIGHT 80</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC17"><span class="cp">#define SCALE 6</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC18">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC19"><span class="k">static</span> <span class="n">ASTexture</span> <span class="o">*</span><span class="n">texture</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC20"><span class="k">static</span> <span class="n">ASFont</span> <span class="o">*</span><span class="n">font</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC21"><span class="k">static</span> <span class="n">ASSprite</span> <span class="o">*</span><span class="n">coin</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC22"><span class="k">static</span> <span class="n">ASText</span> <span class="o">*</span><span class="n">text</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC23">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC24"><span class="k">static</span> <span class="kt">void</span> <span class="nf">init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC25"><span class="p">{</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC26">  <span class="n">texture</span> <span class="o">=</span> <span class="n">asTextureCreate</span><span class="p">(</span><span class="n">coin_texture</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC27">  <span class="n">ASVector2Df</span> <span class="n">position</span> <span class="o">=</span> <span class="n">ASVector2DfMake</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC28">  <span class="n">coin</span> <span class="o">=</span> <span class="n">asSpriteCreate</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span> <span class="n">coin_spin_animation</span><span class="p">,</span> <span class="n">position</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC29">  <span class="n">coin</span><span class="o">-&gt;</span><span class="n">velocity</span> <span class="o">=</span> <span class="n">ASVector2DfMake</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.0f</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC30">  <span class="n">font</span> <span class="o">=</span> <span class="n">asFontCreate</span><span class="p">(</span><span class="mi">127</span><span class="p">,</span> <span class="p">(</span><span class="n">ASFontGlyph</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">system_font_glyphs</span><span class="p">,</span> <span class="n">system_font_texture</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC31">  <span class="n">text</span> <span class="o">=</span> <span class="n">asTextCreate</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">,</span> <span class="n">ASVector2DfMake</span><span class="p">(</span><span class="mf">2.0f</span><span class="p">,</span> <span class="mf">8.0f</span><span class="p">),</span> <span class="n">font</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC32"><span class="p">}</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC33">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC34"><span class="k">static</span> <span class="kt">void</span> <span class="nf">update</span><span class="p">(</span><span class="kt">float</span> <span class="n">deltaTime</span><span class="p">,</span> <span class="kt">float</span> <span class="n">elapsedTime</span><span class="p">)</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC35"><span class="p">{</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC36">  <span class="k">if</span><span class="p">(</span><span class="n">coin</span><span class="o">-&gt;</span><span class="n">position</span><span class="p">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">SCREEN_WIDTH</span><span class="p">)</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC37">    <span class="n">coin</span><span class="o">-&gt;</span><span class="n">position</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">16.0f</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC38">  <span class="k">if</span><span class="p">(</span><span class="n">coin</span><span class="o">-&gt;</span><span class="n">position</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">16.0f</span><span class="p">)</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC39">    <span class="n">coin</span><span class="o">-&gt;</span><span class="n">position</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC40"><span class="p">}</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC41">&nbsp;</div></pre>
            <pre /><div class="line" id="file-main-c-LC42"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC43"><span class="p">{</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC44">  <span class="n">asInit</span><span class="p">(</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">,</span> <span class="n">SCALE</span><span class="p">,</span> <span class="n">init</span><span class="p">,</span> <span class="n">update</span><span class="p">);</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC45">  <span class="n">asMain</span><span class="p">();</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC46">  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></div></pre>
            <pre /><div class="line" id="file-main-c-LC47"><span class="p">}</span></div></pre>
          </td>
        </tr>
      </table>
    </div></p>
  </div>
  </p>